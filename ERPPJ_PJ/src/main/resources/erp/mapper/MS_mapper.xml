<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pj.erp.persistence.MS_DAO">
	<!-- 기획서 등록 -->
 	<insert id="insertPlan" parameterType = "com.pj.erp.vo.MS_VO">
		insert into plan_list_tbl(plan_code, plan_name, username, position_code, plan_regdate, plan_startdate, plan_enddate, plan_objective, plan_state, plan_proposal)
		values('pl0001', #{plan_name}, #{username} ,#{position_code} , #{plan_regdate}, #{plan_startdate}, #{plan_enddate}, #{plan_objective}, #{plan_state},'파일') 
	</insert>
	
	<!-- 기획서 목록 가져오기 -->
	<select id="getPlanList" resultType="com.pj.erp.vo.MS_VO">
		SELECT * FROM plan_list_tbl
	</select>
	
	<!-- 기획서 수량 갯수 -->
	<select id="getPlanListCnt" resultType="int">
		SELECT COUNT(*) FROM plan_list_tbl 
	</select>
	
	<!-- 기획서 수정 -->
	<update id="updatePlan" parameterType="com.pj.erp.vo.MF_VO">
		update plan_list_tbl set plan_name=#{plan_name}, username=#{username}, position_code=#{position_code}, plan_regdate=#{plan_regdate}, plan_startdate=#{plan_startdate}, plan_enddate=#{plan_enddate}, plan_objective=#{plan_objective}, plan_state=#{plan_state}, plan_proposal=#{plan_proposal} where plan_code=#{plan_code}
	</update>
</mapper>