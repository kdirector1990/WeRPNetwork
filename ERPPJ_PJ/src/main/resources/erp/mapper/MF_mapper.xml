<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pj.erp.persistence.MF_DAO">

	<!-- 자재등록 -->
<!--  	
	<insert id="insertMF" parameterType = "com.pj.erp.vo.MF.MF_material">
		insert into material_tbl(material_code, material_name, material_unit)
		values(#{material_code}, #{material_name} ,#{material_unit}') 
	</insert>
 -->	
	<!-- 기획서 목록 가져오기 -->
	<select id="getMaterialList" resultType="com.pj.erp.vo.MF.MF_material">
		SELECT * FROM material_tbl
	</select>
	
	<!-- 기획서 수량 갯수 -->
	<select id="getMaterialListCnt" resultType="int">
		SELECT COUNT(*) FROM material_tbl 
	</select>
	<!-- 생산계획 등록 -->
<!-- 
 	<insert id="insertMFplan" parameterType = "com.pj.erp.vo.MF.MF_plan">
		insert into mf_plan_tbl(p_pp_code, bom_code, product_code, start_date, end_date, ef_cost, ef_amount)
		values(#{p_pp_code}, #{bom_code}, #{product_code} ,#{start_date} , #{end_date}, #{ef_cost}, #{ef_amount}) 
	</insert>
 -->
	 <!-- 생산계획목록 -->
	 <select id="getMFplanList" resultType="com.pj.erp.vo.MF.MF_plan">
		SELECT * FROM mf_plan_tbl
	</select>
	
	<!-- 제품검색 -->
	<select id="selectProName" resultType="int" parameterType="String">
		SELECT COUNT(*) FROM product_list_tbl where product_name like '%'||#{product_name}||'%'
	</select>
	
	<!-- 제품목록 -->
	<select id="getProductList" resultType="com.pj.erp.vo.MF.MF_product_list" parameterType="String">
		SELECT * FROM product_list_tbl where product_name like '%'||#{product_name}||'%'
	</select>
	
</mapper>